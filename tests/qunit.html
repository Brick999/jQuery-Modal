<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" />

	<title>QUnit tests // jQuery Slideshow</title>


	<link rel="stylesheet" href="../css/example.css" />
	<link rel="stylesheet" href="../css/modal.css" />
	<link rel="stylesheet" href="qunit-1.10.0.css" />

	<!--
	jQuery Slideshow by Matt Hinchliffe <http://www.maketea.co.uk>
	Find out more at GitHub <http://github.com/i-like-robots/jQuery-Slideshow>
	-->

</head>
<body>

	<div id="container">

		<section id="introduction">
			<h1>QUnit tests</h1>

			<p id="example-1" style="display:none;">
				Rump sausage ham short loin pork. Pig venison boudin bresaola, frankfurter sirloin filet mignon pork shankle
				capicola. Leberkas jerky ground round short loin bacon. Capicola strip steak flank meatball pork loin beef
				ribs turducken, biltong jowl kielbasa rump shank short ribs. Beef beef ribs filet mignon frankfurter,
				prosciutto pork chop chicken ground round short ribs tenderloin sirloin fatback brisket.
			</p>

			<p id="example-2" style="display:none;">
				Brisket short ribs beef ribs, pork loin rump ribeye shankle meatball tri-tip tail chuck meatloaf filet
				mignon. Pork chop filet mignon tail, chicken kielbasa salami venison ball tip rump. Tenderloin brisket
				andouille shank pig, meatloaf filet mignon spare ribs ball tip t-bone sausage. Ribeye tail doner shank,
				pork belly ham hock spare ribs salami pastrami cow. Meatball leberkas pork frankfurter meatloaf turkey
				rump drumstick, spare ribs beef ribs.
			</p>

		</section>

	</div>

	<section id="tests" style="margin: 20px;">
		<h2>Tests</h2>
		<div id="qunit"></div>
	</section>


	<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
	<script src="../js/modal.js"></script>
	<script src="qunit-1.10.0.js"></script>

	<script>
		$(function()
		{
			var $b, api;

			$.fx.off = true;
			QUnit.config.reorder = false;

			var lifecycle = {
				setup: function() {
					if ( ! api ) {
						$b = $('body').modal();
						api = $b.data('modal');
					}
				}
			};

			module("Setup", lifecycle);

			test("API", function() {
				equal((typeof api).toLowerCase() === "object" && ! $.isEmptyObject(api), true, "API returned");
			});

			test("$(collection).modal()", function() {
				equal(api.target, document.body, "Check modal target defined");
				equal(api.isOpen, false, "Check isOpen is defined");
				equal(api.isInitialized, false, "Check isInitialized is defined");
			});

			//
			// API tests
			//

			module("Public API", lifecycle);

			test(".open()", function() {

				window.testOpen = false;

				var content = $('#example-1').html()

				api.open( content, function() {
					window.testOpen = true;
				});

				equal(api.isOpen, true, "Check isOpen is correct");
				equal(api.content.html(), content, "Check modal content was populated");
				equal(window.testOpen, true, "Check callback was called");
			});

			test(".update()", function() {

				window.testUpdate = false;

				var content = $('#example-2').html();

				api.update(content, function() {
					window.testUpdate = true;
				});

				equal(api.content.html(), content, "Check modal content was re-populated");
				equal(window.testUpdate, true, "Check callback was called");
			});

			test(".resize()", function() {
				api.resize(200, 200);
				equal(api.wrapper.width(), 200, "New width is set");
			});

			test(".hide()", function() {

				window.testHide = false;

				api.hide(function() {
					window.testHide = true;
				});

				equal(api.content.is(':visible'), false, "Check modal is hidden");
				equal(api.isOpen, false, "Check isOpen is correct");
				equal(window.testHide, true, "Check callback was called");
			});

		});
	</script>

</body>
</html>